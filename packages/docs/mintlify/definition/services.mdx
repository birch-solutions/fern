---
title: "Services"
description: "A Service is a collection of related endpoints"
---

## Service Definition

Each service defines:

1. A **base-path**: A common prefix for all the endpoints's HTTP paths
2. Whether the service requires [authentication](./authentication)
3. **Endpoints**

```yaml user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints: {}
```

## Endpoints

An endpoint includes:

- A **URL path** (optionally including path parameters)
- An **HTTP Method**
- **Request information** _(Optional)_
  - **Query-parameters**
  - **Headers**
  - **Request body**
- **Successful (200) response** information _(Optional)_
- **Error (non-200) responses** that this endpoint might return _(Optional)_

## URL Path

Each endpoint has a URL path. The full path for the endpoint is the concatenation of:

- The [environment]() URL
- The service `base-path`
- The endpoint `path`

```yaml user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints:
        getAllUsers:
          path: /all # <---
          method: GET
```

### Path parameters

You can supply path parameters for your endpoints to create dynamic URLs.

```diff user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints:
        getAllUsers:
          path: /all
          method: GET
+       getUser:
+         path: /{userId}
+         path-parameters:
+           userId: string
+         method: GET
```

Services can also have path-parameters:

```yaml project.yml
services:
  http:
    ProjectService:
      base-path: /projects/{projectId}
      path-parameters:
        projectId: string
      auth: false
      endpoints: ...
```

## Query parameters

Each endpoint can specify query parameters:

```yaml user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints:
        getAllUsers:
          path: /all
          method: GET
          request:
            # this name is required for idiomatic SDKs
            name: GetAllUsersRequest
            query-parameters:
              limit: optional<integer>
```

## Headers

Each endpoint can specify request headers:

```yaml user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints:
        getAllUsers:
          path: /all
          method: GET
          request:
            # this name is required for idiomatic SDKs
            name: GetAllUsersRequest
            headers:
              X-Endpoint-Header: string
```

Services can also specify request headers. These headers will cascade to the service's endpoints.

```diff user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
+     headers:
+       X-Service-Header: string
      endpoints:
        getAllUsers:
          path: /all
          method: GET
          request:
            # this name is required for idiomatic SDKs
            name: GetAllUsersRequest
            headers:
              X-Endpoint-Header: string
```

## Request body

Endpoints can specify a request body type.

```yaml user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints:
        setUserName:
          path: /{userId}/set-name
          path-parameters:
            userId: string
          method: POST
          request:
            # this name is required for idiomatic SDKs
            name: SetUserNameRequest
            body: string # <---
```

### Inlining a request body

If the request body is an object, you can **inline the type declaration.** This
makes the generated SDKs a bit more idiomatic.

```yaml user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints:
        createUser:
          path: /create
          method: POST
          request:
            # this name is required for idiomatic SDKs
            name: CreateUserRequest
            body:
              properties:
                userName: string
```

## Success response

Endpoints can specify a `response`, which is the type of the body that will be
returned on a successful (200) call.

```yaml user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints:
        getAllUsers:
          path: /all
          method: GET
          response: list<User>

types:
  User:
    properties:
      userId: string
      name: string
```

## Error responses

Endpoints can specify error responses, which detail the non-200 responses that
the endpoint might return

```yaml user.yml
services:
  http:
    UserService:
      base-path: /users
      auth: false
      endpoints:
        getUser:
          path: /{userId}
          path-parameters:
            userId: string
          method: GET
          response: User
          errors:
            - UserNotFoundError

types:
  User:
    properties:
      userId: string
      name: string

errors:
  UserNotFoundError:
    status-code: 404
```

You can learn more about how to define errors on the [Errors](./errors) page.
