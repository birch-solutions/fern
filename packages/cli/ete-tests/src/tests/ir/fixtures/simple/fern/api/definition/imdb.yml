imports:
  director: director.yml
ids:
  - MovieId
  - ActorId
types:
  Movie:
    properties:
      id: MovieId
      title: string
      rating: double
  CreateMovieRequest:
    properties:
      title: string
      ratings: list<double>
  Person:
    union:
      actor: ActorId
      director: director.Director
      producer: {}
  RecursiveType:
    properties:
      selfRefrencing: list<RecursiveType>
errors:
  NotFoundError:
    http:
      statusCode: 404
services:
  http:
    MoviesService:
      auth: false
      base-path: /movies
      endpoints:
        createMovie:
          method: POST
          path: /
          request: CreateMovieRequest
          response: MovieId
        getMovie:
          method: GET
          path: /{movieId}
          path-parameters:
            movieId: MovieId
          response: Movie
          errors:
            - NotFoundError
