types:
  TelemetryResponse:
    properties:
      time:
        docs: Time spent to process this request
        type: optional<double>
      status: optional<string>
      result: optional<TelemetryData>
  TelemetryData:
    properties:
      cpu:
        docs: CPU usage
        type: optional<double>
      memory:
        docs: Memory usage
        type: optional<double>
      network:
        docs: Network usage
        type: optional<double>
service:
  auth: false
  base-path: ''
  endpoints:
    telemetry:
      path: /telemetry
      method: GET
      auth: false
      display-name: Collect telemetry data
      request:
        name: TelemetryRequest
        query-parameters:
          anonymize:
            type: optional<boolean>
            docs: If true, anonymize result
      response:
        docs: successful operation
        type: TelemetryResponse
      examples:
        - response:
            body:
              time: 1.1
              status: status
              result:
                cpu: 1.1
                memory: 1.1
                network: 1.1
          code-samples:
            - sdk: curl
              code: >-
                curl -X GET
                "http://localhost-custom:8080/telemetry?anonymize=true"
                  -H "accept: application/json"
                  -H "Authorization: Bearer token"
            - sdk: python
              code: >-
                import requests

                url = "http://localhost-custom:8080/telemetry"

                querystring = {"anonymize":"true"}

                headers = {
                    "accept": "application/json",
                    "Authorization": "Bearer token"
                }

                response = requests.request("GET", url, headers=headers,
                params=querystring)

                print(response.text)
            - sdk: typescript
              code: |-
                import axios from 'axios';
                const options = {
                  method: 'GET',
                  url: 'http://localhost-custom:8080/telemetry',
                  params: {anonymize: 'true'},
                  headers: {
                    accept: 'application/json',
                    Authorization: 'Bearer token'
                  }
                };
                axios.request(options).then(function (response) {
                  console.log(response.data);
                });
