imports:
  commons: ./commons.yml
  types: ./types.yml
types:
  EndpointLocation:
    docs: |
      Represents the endpoint location (e.g. "POST /users").
    properties:
      method: EndpointMethod
      path: string

  EndpointMethod:
    enum:
      - GET
      - POST
      - PUT
      - PATCH
      - DELETE

  EndpointAuth:
    union:
      basic: EndpointBasicAuth
      bearer: EndpointBearerAuth
      header: EndpointHeaderAuth
      oauth: EndpointOAuth

  EndpointBasicAuth:
    properties:
      username: commons.Name
      password: commons.Name

  EndpointBearerAuth:
    properties:
      token: commons.Name

  EndpointHeaderAuth:
    properties:
      header: types.NamedParameter

  EndpointOAuth:
    properties:
      clientId: commons.Name
      clientSecret: commons.Name

  Endpoint:
    properties:
      auth: optional<EndpointAuth>
      declaration: commons.Declaration
      request: Request

  Request:
    docs: |
      Reperesents the request parameters required to call a specific endpoiont.
    union:
      body: BodyRequest
      inlined: InlinedRequest

  BodyRequest:
    properties:
      pathParameters: optional<list<types.NamedParameter>>
      body: optional<ReferencedRequestBodyType>
 
  InlinedRequest:
    properties:
      declaration: commons.Declaration
      pathParameters: optional<list<types.NamedParameter>>
      queryParameters: optional<list<types.NamedParameter>>
      headers: optional<list<types.NamedParameter>>
      body: optional<InlinedRequestBody>

  InlinedRequestBody:
    union:
      properties: list<types.NamedParameter>
      referenced: ReferencedRequestBody
      fileUpload: FileUploadRequestBody
  
  ReferencedRequestBody:
    properties:
      bodyKey: commons.Name
      bodyType: ReferencedRequestBodyType

  ReferencedRequestBodyType:
    union:
      bytes: {}
      typeReference: types.TypeReference

  FileUploadRequestBody:
    properties:
      properties: list<FileUploadRequestBodyProperty>

  FileUploadRequestBodyProperty:
    union:
      file: commons.NameAndWireValue
      fileArray: commons.NameAndWireValue
      bodyProperty: types.NamedParameter
