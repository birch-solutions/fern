---
title: Authentication
description: Specify the authentication scheme used by your API. 
---

The `api.yml` configuration supports a wide variety of authentication schemes: bearer, basic, custom header, and oauth. 

## Bearer

<CodeBlock title="api.yml">
```yaml api.yml
name: api
auth: bearer
```
</CodeBlock>

If you want to control variable naming and environment variable scanning for 
the token field, use the syntax below. 

<CodeBlock title="api.yml">
```yaml
name: api
auth: Bearer                  
auth-schemes:
  Bearer:                     
    scheme: bearer
    token:
      name: apiKey
      env: MY_API_KEY
```
</CodeBlock>

## Basic

<CodeBlock title="api.yml">
```yaml api.yml
name: api
auth: basic
```
</CodeBlock>

If you want to control variable naming and environment variable scanning for 
the username and password fields, use the syntax below. 

<CodeBlock title="api.yml">
```yaml
name: api
auth: Basic                  
auth-schemes:
  Basic:                     
    scheme: basic
    username:
      name: clientId
      env: MY_CLIENT_ID
    password:
      name: clientSecret
      env: MY_CLIENT_SECRET
```
</CodeBlock>

## Custom Header

You can also create your own authentication schemes.

<CodeBlock title="api.yml">
```yaml api.yml
name: api
auth: MyAuthScheme
auth-schemes:
  MyAuthScheme:
    header: X-API-Key
    type: string
```
</CodeBlock>

## OAuth

If your API uses OAuth, you can specify an oauth scheme. Note that you'll need to define a token retrieval endpoint. 

<CodeBlock title="api.yml">
```yaml
name: api

imports:
  auth: auth.yml

auth: OAuthScheme
auth-schemes:
  OAuthScheme:
    scheme: oauth
    type: client-credentials
    client-id-env: YOUR_CLIENT_ID
    client-secret-env: YOUR_CLIENT_SECRET
    get-token:
      endpoint: auth.getToken               
      response-properties:
        access-token: $response.access_token 
        expires-in: $response.expires_in    

```
</CodeBlock>

If the `expires-in` property is set, the generated OAuth token provider will automatically refresh the token when it expires.
Otherwise, it's assumed that the access token is valid indefinitely.

With this, all of the OAuth logic happens automatically in the generated SDKs. As long as you configure these settings, your
client will automatcally retrieve an access token and refresh it as needed.